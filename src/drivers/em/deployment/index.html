<!doctype html>
<!--

Copyright (C) 2015  Valtteri "tsone" Heikkila

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

-->
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>em-fceux</title>

    <link rel="author" href="Valtteri HeikkilÃ¤" />
    <link rel="license" href="gpl-2.0.txt" />

    <link rel="icon" type="image/png" href="img/favicon-48.png" />
    <link rel="apple-touch-icon" href="img/favicon-60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/favicon-120.png" />

    <link href="style.css" rel="stylesheet" />
  </head>
  <body>

    <div id="preload">
      <img class="preload" alt="" src="img/sound_off.gif" />
      <img class="preload" alt="" src="img/cart.gif" />
    </div>

    <canvas class="emscripten" id="canvas" hidden oncontextmenu="event.preventDefault()"></canvas>

    <div id="loader">
      <span id="loaderSpinner"></span>
    </div>

    <input id="controlsToggle" type="checkbox" hidden />
    <div id="controlsTab">
        <div id="controlsContainer">
          <div id="controlsSliders">
    <h3>Picture Controls</h3>
    Brightness <input type="range" min="-1" max="1" value="0" step="0.2" oninput="FCEM.setControl(BRIGHTNESS, this.value)" onchange="FCEM.setControl(BRIGHTNESS, this.value)"/><br/>
    Contrast <input type="range" min="-1" max="1" value="0" step="0.2" oninput="FCEM.setControl(CONTRAST, this.value)" onchange="FCEM.setControl(CONTRAST, this.value)"/><br/>
    Color <input type="range" min="-1" max="1" value="0" step="0.2" oninput="FCEM.setControl(COLOR, this.value)" onchange="FCEM.setControl(COLOR, this.value)"/><br/>
    Gamma <input type="range" min="-1" max="1" value="0" step="0.2" oninput="FCEM.setControl(GAMMA, this.value)" onchange="FCEM.setControl(GAMMA, this.value)"/><br/>
    <h3>NTSC Emulation Controls</h3>
    NTSC Emulation <input type="checkbox" checked oninput="FCEM.setControl(RGBPPU, !this.checked)" onchange="FCEM.setControl(RGBPPU, !this.checked)"/><br/>
    Sharpness <input type="range" min="-0.5" max="0.5" value="0.2" step="0.1" oninput="FCEM.setControl(SHARPNESS, this.value)" onchange="FCEM.setControl(SHARPNESS, this.value)"/><br/>
    <h3>TV Emulation Controls</h3>
    TV Emulation <input type="checkbox" checked oninput="FCEM.setControl(CRT_ENABLED, this.checked)" onchange="FCEM.setControl(CRT_ENABLED, this.checked)"/><br/>
    Scanlines <input type="range" min="0" max="1" value="0.1" step="0.1" oninput="FCEM.setControl(SCANLINES, this.value)" onchange="FCEM.setControl(SCANLINES, this.value)"/><br/>
    Glow <input type="range" min="0" max="1" value="0.2" step="0.1" oninput="FCEM.setControl(GLOW, this.value)" onchange="FCEM.setControl(GLOW, this.value)"/><br/>
    Convergence <input type="range" min="0" max="1" value="0.4" step="0.1" oninput="FCEM.setControl(CONVERGENCE, this.value)" onchange="FCEM.setControl(CONVERGENCE, this.value)"/><br/>
    Signal Noise <input type="range" min="0" max="1" value="0.3" step="0.1" oninput="FCEM.setControl(NOISE, this.value)" onchange="FCEM.setControl(NOISE, this.value)"/><br/>
        </div>
<!-- <input type="button" value="dump FS" onclick="var f = findFiles('/'); f.forEach(function(x) { console.log('!!!! dump: ' + x); })" /> -->
        </div>
        <label id="controlsToggleLabel" for="controlsToggle"></label>
    </div>

    <div hidden>
      <div class="cartRow" id="cartProto"><div class="cart" onclick="return askSelectGame(event, this.parentNode);"><div class="labelContainer"><div class="label"></div></div><div class="cartDelete" onclick="return askDeleteGame(event, this.parentNode.parentNode);"></div></div></div>
    </div>
    <input id="stackToggle" type="checkbox" hidden />
    <div id="stackTab">
        <label id="stackToggleLabel" for="stackToggle"></label>
        <div id="stackContainer"><div id="stack"><div></div></div></div>
    </div>

    <img id="fullscreenIcon" width="48" height="48" src="img/fullscreen.gif" onclick="Module.requestFullScreen(false, false)" alt=""/>
    <img id="soundIcon" width="48" height="48" src="img/sound_on.gif" onclick="FCEM.toggleSound()" alt=""/>

    <input id="helpToggle" type="checkbox" hidden />
<div id="helpDimmer"></div>
    <div id="help">
<h1>EM-FCEUX</h1>
<p>em-fceux is an <a href="http://emscripten.org/">Emscripten</a> port of <a href="http://www.fceux.com/">FCEUX</a>.
<p>Source code: <a href="https://bitbucket.org/tsone/em-fceux/">https://bitbucket.org/tsone/em-fceux/</a>

<h2>INSTRUCTIONS</h2>
<p>To play a game, drag and drop it (ROM file etc.) on this browser window.
<p>The played games are added to the game stack on the right. Play the game again by clicking it on the stack.
<p>To remove a game, click <img src="img/x.gif" width=14 height=14 alt="the 'X' icon on it"/>. This doesn't remove save data. Built-in games (2048) cannot be removed.
<p>Supported (tested) file formats: <i>.nes, .nsf, .zip</i>

<h3>KEYS</h3>
<p>Keyboard inputs are fixed (no customization is currently supported).
<p>First gamepad keys:
<table>
<tr><td>Arrow keys<td>D-pad directions
<tr><td>F<td>A button
<tr><td>D<td>B button
<tr><td>S<td>Select button
<tr><td>Enter<td>Start button
</table>

<p>Other keys:
<table>
<tr><td>Ctrl-R<td>Reset system
<tr><td>Esc<td>Exit full-screen mode
<tr><td>Tab<td>Speed throttle
<tr><td>0-9<td>Select save state
<tr><td>F5<td>Save save state
<tr><td>F7<td>Load save state
<tr><td>P<td>Pause emulation
<tr><td>\<td>Single frame step
</table>


<h3>SETTINGS TAB</h3>
<p>The settings tab is revealed by clicking the (pixelated) triangle on the left.
<p>The tab has controls for composite NTSC and TV emulation, gamma, sharpness, color etc.

<h2>TROUBLESHOOTING</h2>
<p>Use a recent web browser, such as Firefox, Chromium, Chrome, Safari or Opera. Internet Explorer will not work.
<p>If input responsiveness is poor (frame rate is low), try disabling TV emulation or using the full-screen mode.

<h2>NOTES</h2>
<p>Games and save data are stored locally in the web browser and are never transmitted out of the browser.
<p>Extracting the games and save data from the browser (for backups etc.) is not supported.
<p>Please refer to <a href="https://bitbucket.org/tsone/em-fceux/">em-fceux repository</a> for more technical information.
<p>em-fceux and FCEUX are licensed under <a href="gpl-2.0.txt">GNU GPL Version 2</a>.
<p>0.1.5-alpha
<br/>
<br/>
    </div>

    <label id="helpIcon" for="helpToggle"><img width="48" height="48" src="img/help.gif" alt=""/></label>

    <script src="pre.js"></script>
    <script src="input.js"></script>
    <script async type="text/javascript" src="fceux.js"></script>
    <script src="post.js"></script>
    <script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
  </body>
</html>
